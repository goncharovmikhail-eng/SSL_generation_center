# Единый центр генерации тестовых SSL-сертификатов. 

Центр обеспечивает: 
 - Изолированность: Mkcert запускается в docker-контейнере.
 - Компактное и удобное хранение сертификатов: Корневой сертификат генерируется только в том случае, если не найден в целевой папке.
 - Автоматизацию: Минимизирует ручные действия. Автоматическая сборка образа**: если Docker-образ не найден, он автоматически создаётся. Автоматически формирует цеопчку сертификатов, меняет расширение, дает права 777 для интеграции с ansible.
 - Стандартизацию доменных имен. Изначально по шаблону [lastname].stage
 - Удобство хранения в git. По задумке, центр можно хранить в git тк подразумивается, что ключи от сертификатов для стендов можно компромитировать.
---

## Требования

- Docker
- Bash (для запуска `gen_cert.sh`)

---

## Установка

Склонируйте репозиторий:

```bash
git clone git@github.com:goncharovmikhail-eng/CA.git
cd cert-generation

---

# Генерация сертификата

```bash
./gen_cert.sh [Фамилия] [--name домен] [--path путь_для_сертификатов] [--ip ip_адрес]

- Фамилия — если не указать --name, домен будет автоматически создан как [lastname].stage
- --name — явно задать доменное имя
- --path — путь для сохранения сертификатов (по умолчанию certs/)
- --ip — добавить IP-адрес в сертификат (можно указать несколько раз)
